version: v3.4.5 #Verify versions

inherits_from:
  # Also may be referred to as “parent flavor”
  flavor: standoc
  version: v1.x.x

document_attributes:
#--- Document type  ---#
  doctype:
    tags: ["Document info"]
    title: "Document type"
    description: |
      Specifies document status. Choices:
      +
      * `:doctype: internet-draft` sets the document as an Internet-Draft (default value):
      ** `rfc/front/seriesInfo@name` attribute will be set to _Internet-Draft_
      ** `rfc/front/seriesInfo@value` will be set to the value of `:name:` attribute, stripping any file suffixes, but including any draft number; e.g. `draft-ietf-somewg-someprotocol-07`
      ** `rfc@docName` will be set to the `:docnumber:` attribute
      * `:doctype: rfc` sets the document as an RFC:
      ** `rfc/front/seriesInfo@name` attribute will be set to _RFC_
      ** `rfc/front/seriesInfo@value` will be set to the value of `:name:` attribute, stripping the initial `rfc-` prefix and any file suffixes
      ** `rfc@number` will be set to the `:name:` attribute
    value_spec: "enum: internet-draft, rfc"
    value_default: internet-draft

#--- Pre-processing options ---#
  no-rfc-bold-bcp14:
    tags: ["Pre-processing options"]
    title: "No RFC bold BCP14"
    description: "Override default assumption that boldface uppercase BCP14 word is to be rendered with `bcp14` tag."
    value_spec: boolean
    value_default: true

  smart-quotes:
    tags: ["Pre-processing options"]
    title: "Smart quotes"
    description: |
      Permit smart quotes, when they are specified explicitly in AsciiDoc (as `pass:['`...`']`, `pass:['`...`']`). When disabled, smart quotes are rendered as straight quotes, and Asciidoc's default conversion of straight apostrophes to smart is undone.
    value_spec: boolean
    value_default: true

  flush-caches:
    tags: ["Pre-processing options"]
    title: "Flush caches"
    description: |
      Delete and reload the caches of references to be included externally, and of workgroups, during processing of this document. +
      The caches are stored in `~/.metanorma-ietf-biblio-cache.json` and `~/.metanorma-ietf-workgroup-cache.json`.
    value_spec: boolean
    value_default: false

  use-xinclude:
    tags: ["Pre-processing options"]
    title: "Use xinclude"
    description: |
      If present, references to IETF documents are handled as XIncludes as recommended by IETF's https://www.rfc-editor.org/materials/FAQ-xml2rfcv3.html["xml2rfc Frequently Asked Questions, 3.1"]. Otherwise, they are left as embedded XML.

      Setting this to `false` allows you to compile final output using `xmlrfc` with cached reference content without triggering its Internet-fetching functionality (https://www.rfc-editor.org/materials/FAQ-xml2rfcv3.html["xml2rfc Frequently Asked Questions, 3.2"].
    added_in_version: v2.0.8

#--- Document info ---#
  title:
    tags: ["Document info"]
    title: "Title of document"
    description: "Title of document. RFC XML: `rfc/front/title`."
    required: true

  abbrev:
    tags: ["Document info"]
    title: "Abbreviation of document"
    description: "Abbreviation of document title. Usually the document name without the keyword `draft-`. RFC XML: `rfc/front/title@abbrev`."
    required: true

  asciititle:
    tags: ["Document info"]
    title: "Ascii title"
    description: "ASCII version of the title, in case author wants to override the default ASCII equivalent generated by Ruby (through the https://github.com/pbhogan/sterile[sterile] gem)."

  name:
    tags: ["Document info"]
    title: "Name of document"
    description: |
      Sets the document's name. This should be a number if
      the document is an RFC, and a name (in the form of `draft-ietf-somewg-someprotocol-07`)
      if it is an Internet-Draft.
      When `doctype` is set to:

      * `internet-draft`: the value should be in the form `draft-ietf-somewg-someprotocol-07`.
      ** RFC XML: `rfc@docName`
      * `rfc`: the value should be a number like `7991` as described
      in  https://tools.ietf.org/html/rfc7991#section-2.47.6[here]
      RFC XML: `rfc@number`

      NOTE: Usage here differs from usage in AsciiRFC v2.
    required: true

  status:
    tags: ["Document info"]
    title: "Status"
    description: |
      Set the current status of this document. Synonym: `:docstage:`. The following values are allowed:

      * `standard`
      * `informational`
      * `experimental`
      * `bcp`
      * `fyi`
      * `full-standard`

      RFC XML: `front/seriesInfo[1]/@status`, `rfc@category`.

      NOTE: Usage here differs from usage in AsciiRFC v2.
    value_spec: "enum: standard, informational, experimental, bcp, fyi, full-standard"

  intended-series:
    tags: ["Document info"]
    title: "Intended series"
    description: |
      Set the intended series of this document. Space delimited.
      For Internet Drafts, this indicates the intended series once the document is published as an RFC.
      For RFCs, this indicates the current status of the document. The following values are allowed:

      * `standard` (I.-D. only)
      * `informational`
      * `experimental`
      * `bcp` (I.-D. only)
      * `bcp nnnn` (RFC only, where `nnnn` is the document number)
      * `fyi` (I.-D. only)
      * `fyi nnnn` (RFC only, where `nnnn` is the document number)
      * `full-standard` (I.-D. only)
      * `full-standard nnnn` (RFC only, where `nnnn` is the document number)
      * `historic`

      RFC XML: `front/seriesInfo[2]/@status`;
      `front/seriesInfo[2]/@name = ""`;
      `front/@category` (`exp` and `historic` only supported for Internet Drafts; document number not used).

      NOTE: This differs from usage in AsciiRFC v2. Metanorma-IETF takes care of any needed
      translation between the v2 vocabulary (e.g. `info`) and the v3 vocabulary
      (e.g. `informational`).'
    value_spec: "enum: standard, informational, experimental, bcp, bcp nnnn, fyi, fyi nnnn, full-standard, full-standard nnnn"

  submission-type:
    tags: ["Document info"]
    title: "Submission type"
    description: |
      Set document submission type for this document from the predefined values.

      RFC XML: `rfc@submissionType` and `rfc/front/seriesInfo@stream`.
      NOTE: Usage here differs from usage in AsciiRFC v2.
    value_spec: "enum: IETF, independent, IAB, IRTF"
    value_default: IETF

  ipr:
    tags: ["Document info"]
    title: "IPR"
    description: |
      Intellectual property status of document. See
      https://tools.ietf.org/html/rfc7991#section-2.45.5[RFC 7991]. Defaults to `trust200902`. RFC XML: `rfc@ipr`.

      NOTE: Usage here differs from usage in AsciiRFC v2.
    required: true
    value_default: trust200902

  ipr-extract:
    tags: ["Document info"]
    title: "IPR extract"
    description: |
      Identifies a section that can be extracted from text. See
      https://tools.ietf.org/html/rfc7991#section-2.45.6[RFC 7991].
      RFC XML: `rfc@iprExtract`.

      NOTE: Usage here differs from usage in AsciiRFC v2.

  obsoletes:
    tags: ["Document info"]
    title: "Obsoletes"
    description: "A comma-separated list of RFC numbers or Internet-Draft names that this document obsoletes. RFC XML: `rfc@obsoletes`."
    value_spec: comma-list

  updates:
    tags: ["Document info"]
    title: "Updates"
    description: "A comma-separated list of RFC numbers or Internet-Draft names that this document updates. RFC XML: `rfc@updates`."
    value_spec: comma-list

  included-in:
    tags: ["Document info"]
    title: "included-in"
    description: |
      (RFC only) ISSN for this RFC document. Identifiers expected to be in form of `urn:issn:`.
      RFC XML: `front/link[@rel = 'item']/@href`.
      +
      NOTE: The odd selection of `:included-in:` is in fact the closest match to the link type "item" used in RFC 7991.

  described-by:
    tags: ["Document info"]
    title: "Described by"
    description: |
      DOI for this RFC document. Identifiers expected to be in form
      specified by https://tools.ietf.org/html/rfc7669[RFC7669]. +
      RFC XML: `front/link[@rel = 'describedby']/@href`.

  derived-from:
    tags: ["Document info"]
    title: "Derived from"
    description: "(Final Draft) Internet-Draft submitted to become published RFC. If these are IETF documents, they must be identified with the URL of the Internet Draft on the IETF-controlled web site that retains copies of Internet-Drafts. RFC XML: `front/link[@rel = 'convertedFrom']/@href`."

  instance:
    tags: ["Document info"]
    title: "Instance"
    description: |
      (Any status) URL for any alternate representation of this document. RFC XML: `front/link[@rel = 'alternate']/@href`

      NOTE: Formerly this was called `:equivalent:`.
    added_in_version: v2.0.8

  submission-type:
    tags: ["Document info"]
    title: "Submission type"
    description: "Document stream of document described in https://tools.ietf.org/html/rfc7841[RFC7841]. Allowed values: `IETF` (default), `independent`, `IAB`, and `IRTF`. RFC XML: `rfc@submissionType`."
    value_spec: "enum: IETF, independent, IAB, IRTF"
    value_default: IETF

  revdate:
    tags: ["Document info"]
    title: "Revision date"
    description: "Latest revision date of document. Default value is current time. Accepts ISO 8601 date. Also accepts `YYYY` year, and `YYYY[-]MM` year/month. For consistency with AsciiDoc, `:revdate:` is given as an ISO 8601 date; the converter breaks it down into day, month name and year RFC XML: `front/date@day`, `front/date@month`, `front/date@year`."
    value_default: "{current time}"

  area:
    tags: ["Document info"]
    title: "Area of document"
    description: 'Comma delimited text on which IETF area this document relates to. Value should "be either the full name or the abbreviation of one of the IETF areas as listed on <http://www.ietf.org/iesg/area.html>". See https://tools.ietf.org/html/rfc7991#section-2.4[here]. RFC XML: `front/area`.'

  workgroup:
    tags: ["Document info"]
    title: "Workgroup"
    description: "Comma delimited text on which IETF or IRTF workgroup or research group this document originates from. RFC XML: `front/workgroup`."
    more_information: See https://tools.ietf.org/html/rfc7991#section-2.65[here]

  xml-lang:
    tags: ["Document info"]
    title: "XML language"
    description: "Set the document language. By default this is `en`. RFC XML: `rfc@xml:lang`."

  consensus:
    tags: ["Document info"]
    title: "Consensus"
    description: |
      Set document consensus for this document. The following values are allowed:

      * `false`
      * `true`

      RFC XML: `rfc@consensus`.
    value_spec: boolean

  index-include:
    tags: ["Document info"]
    title: "Index include"
    description: |
      Specifies whether formatter should include an index in generated files. If the source file has no `<iref>` elements, an index is never generated. +
      RFC XML: `rfc@indexInclude`

      NOTE: This attribute is new in AsciiRFC v3 (RFC XML v3).
    value_spec: boolean
    value_default: true

  sort-refs:
    tags: ["Document info"]
    title: "Sort references"
    description: |
      Specifies whether the prep tool should sort references. +
      RFC XML: `rfc@sortRefs`

      NOTE: This attribute is new in AsciiRFC v3 (RFC XML v3).
    value_spec: boolean
    value_default: false

  sym-refs:
    tags: ["Document info"]
    title: "Symbolic references"
    description: |
      Specifies whether formatter should use symbolic references (such as "`[RFC211]`") or not (such as "`[3]`"). +
      RFC XML: `rfc@symRefs`
      NOTE: This attribute is new in AsciiRFC v3 (RFC XML v3).
    value_spec: boolean
    value_default: true

  toc-include:
    tags: ["Document info"]
    title: "ToC include"
    description: |
      Specifies whether formatter should contain a table of contents.
      RFC XML: `rfc@tocInclude`
      +
      NOTE: This attribute is new in AsciiRFC v3 (RFC XML v3).
    value_spec: boolean
    value_default: true

  toc-depth:
    tags: ["Document info"]
    title: "ToC depth"
    description: |
      Determines the depth of the table-of-contents; e.g. a value of `3` means three levels of heading are included. RFC XML: `rfc@tocDepth`
      +
      NOTE: This attribute is new in AsciiRFC v3 (RFC XML v3).

  show-on-front-page:
    tags: ["Document info"]
    title: "Show on front page"
    description: |
      Display organization of author on front page of IAB document. Introduced in Levkowetz' implementation notes. RFC XML: `organization/@showOnFrontPage`, applied to all organizations named in the document front matter.
      +
      NOTE: This attribute is new in AsciiRFC v3 (RFC XML v3).
    value_spec: boolean
    value_default: true

#--- Author attributes ---#
  fullname:
    tags: ["Author attributes"]
    title: "Fullname"
    description: 'Author&apos;s full name. Can set here instead of document header&apos;s "`Author`" line. RFC XML: `front/author@fullname`.'

  initials:
    tags: ["Author attributes"]
    title: "Initials"
    description: "Author's initials excluding surname. RFC XML: `front/author@initials`."
    declaration: ":fullname:, :fullname{_i}:"

  givenname:
    tags: ["Author attributes"]
    title: "Given name"
    description: |
      Given names of Author. Not used directly in RFC XML, but initials can be derived from them if not explicitly included. RFC XML: `front/author@initials`.
    declaration: ":givenname:, :givenname{_i}:"

  surname:
    tags: ["Author attributes"]
    title: "Surname"
    description: |
      Author's last name. Can set here instead of document header's "`Author`" line. +
      RFC XML: `front/author@surname`.
    declaration: ":surname:, :surname{_i}:"

  role:
    tags: ["Author attributes"]
    title: "Role"
    description: "Defaults to `author`. Possible values: `author`, `editor`. If `author` is supplied, the attribute is not populated. RFC XML: `front/author@role`."
    declaration: ":role:, :role{_i}:"
    value_spec: "enum: author, editor"
    value_default: author

  affiliation:
    tags: ["Author attributes"]
    title: "Organization affiliation"
    description: "Author's organization affiliation. RFC XML: `front/author/organization`."
    declaration: ":affiliation:, :affiliation{_i}:"
    value_default: ""

  affiliation_abbrev:
    tags: ["Author attributes"]
    title: "Organization abbreviation"
    description: "Author's organization's abbreviation shown. RFC XML: `front/author/organization@abbrev`."
    declaration: ":organization_abbrev:, :organization_abbrev{_i}:"
    value_default: ""

#--- Address attributes ---#
  email:
    tags: ["Address attributes"]
    title: "Email"
    description: "Email of author. RFC XML: `front/author/address/email`."
    declaration: ":email:, :email{_i}:"

  fax:
    tags: ["Address attributes"]
    title: "Fax"
    description: "Fax number of author. Deprecated in v3. RFC XML: `front/author/address/facsimile`."
    declaration: ":fax:, :fax{_i}:"

  contributor-uri:
    tags: ["Address attributes"]
    title: "Contributor URI"
    description: "URI of author. RFC XML: `front/author/address/uri`."
    declaration: ":contributor-uri:, :contributor-uri{_i}:"

  phone:
    tags: ["Address attributes"]
    title: "Phone number"
    description: "Author's phone number. Scheme-specific part of a `tel` URI (does not include the prefix `tel:`). See https://tools.ietf.org/html/rfc3966#section-3[RFC3966 `global-number-digits`]. RFC XML: `front/author/address/phone`."
    declaration: ":phone:, :phone{_i}:"

  address:
    tags: ["Address attributes"]
    title: "Address"
    description: |
      Used to directly format postal addresses without regard
      to the prior types. Multiple lines are given as separate lines, each ending with a space, then a plus symbol, then a backslash symbol (`" + \"`).
      +
      The `postal-line` attribute is mutually exclusive with the presence of `street`,
      `city`, `region`, `country` and `code` attributes (which are not currently supported).
      +
      RFC XML: `front/author/address/postal/postalLine`
      +
      [source,asciidoc]
      ----
      :address: Palace + \
      Camel Lot 1 + \
      UK
      ----.
    declaration: ":address:, :address{_i}:"

#--- Processing instructions for xml2rfc ---#
  artworkdelimiter:
    tags: ["Processing instructions for xml2rfc"]
    title: "Artwork delimiter"
    description: "When producing `txt` or `nroff` files, use this string to delimit artwork."

  artworklines:
    tags: ["Processing instructions for xml2rfc"]
    title: "Artwork lines"
    description: "When producing txt or nroff files, add this many blank lines around artwork."

  authorship:
    tags: ["Processing instructions for xml2rfc"]
    title: "Authorship"
    description: "Render author information."

  autobreaks:
    tags: ["Processing instructions for xml2rfc"]
    title: "Autobreaks"
    description: "Automatically force page breaks to avoid widows and orphans (not perfect)."

  background:
    tags: ["Processing instructions for xml2rfc"]
    title: "Background image"
    description: "When producing a HTML file, use this image."

  colonspace:
    tags: ["Processing instructions for xml2rfc"]
    title: "Colon space"
    description: 'Put two spaces instead of one after each colon ("`:`") in txt or nroff files.'

  comments:
    tags: ["Processing instructions for xml2rfc"]
    title: "Comments"
    description: "Render `<cref>` information."

  docmapping:
    tags: ["Processing instructions for xml2rfc"]
    title: "Document mapping"
    description: "Use hierarchical tags (e.g., `<h1>`, `<h2>`, etc.) for (sub)section titles."

  editing:
    tags: ["Processing instructions for xml2rfc"]
    title: "Editing"
    description: "Insert editing marks for ease of discussing draft versions."

  emoticonic:
    tags: ["Processing instructions for xml2rfc"]
    title: "Emoticonic"
    description: "Automatically replaces input sequences such as `|*text|` by, e.g., `<strong>text</strong>` in html output."

  footer:
    tags: ["Processing instructions for xml2rfc"]
    title: "Footer"
    description: "Override the center footer string."

  header:
    tags: ["Processing instructions for xml2rfc"]
    title: "Header"
    description: "Override the leftmost header string."

  inline:
    tags: ["Processing instructions for xml2rfc"]
    title: "Inline"
    description: "If comments is "yes", then render comments inline; otherwise render them in an "Editorial Comments" section."

  iprnotified:
    tags: ["Processing instructions for xml2rfc"]
    title: "IPR notified"
    description: "Include boilerplate from Section 10.4(d) of http://tools.ietf.org/html/rfc2026."

  linkmailto:
    tags: ["Processing instructions for xml2rfc"]
    title: "Generate mailto"
    description: "Generate mailto: URL, as appropriate."

  linefile:
    tags: ["Processing instructions for xml2rfc"]
    title: "linefile"
    description: "A string like &quot;35:file.xml&quot; or just &quot;35&quot; (file name then defaults to the containing file's real name or to the latest linefile specification that changed it) that will be used to override xml2rfc's reckoning of the current input position (right after this PI) for warning and error reporting purposes (line numbers are 1-based)."

  notedraftinprogress:
    tags: ["Processing instructions for xml2rfc"]
    title: "Note draft in progress"
    description: 'Generates "(work in progress)", as appropriate.'

  private:
    tags: ["Processing instructions for xml2rfc"]
    title: "private"
    description: "Produce a private memo rather than an RFC or Internet-Draft."

  refparent:
    tags: ["Processing instructions for xml2rfc"]
    title: "Ref parent"
    description: "Title of the top-level section containing all references."

  rfcedstyle:
    tags: ["Processing instructions for xml2rfc"]
    title: "rfcedstyle"
    description: |
      Attempt to closely follow finer details from the latest observable RFC-Editor style so as to minimize the probability of being sent back corrections after submission.

      This directive is a kludge whose exact behavior is likely to change on a regular basis to match the current flavor of the month; presently, it will:

      * capitalize the adjective &quot;`This`&quot; in automatically generated headings,
      * use the variant &quot;`acknowledgement`&quot; spelling instead of Merriam Webster's main &quot;`acknowledgment`&quot; dictionary entry,
      * use the &quot;`eMail`&quot; spelling instead of Knuth's more modern &quot;`email`&quot; spelling,
      * only put one blank line instead of two before top sections,
      * omit &quot;`Intellectual Property and Copyright Statements`&quot; and &quot;`Author's Address`&quot; from the table of content, and
      * not limit the indentation to a maximum tag length in `<references>` sections.

  slides:
    tags: ["Processing instructions for xml2rfc"]
    title: "Slides"
    description: "When producing a html file, produce multiple files for a slide show."

  strict:
    tags: ["Processing instructions for xml2rfc"]
    title: "Strict"
    description: "Try to enforce the ID-nits conventions and DTD validity."

  subcompact:
    tags: ["Processing instructions for xml2rfc"]
    title: "Subcompact"
    description: 'If compact is "yes", then you can make things a little less compact by setting this to "no" (the default value is the current value of the compact PI).'

  text-list-symbols:
    tags: ["Processing instructions for xml2rfc"]
    title: "Text list symbols"
    description: 'Modify the list of symbols used (when generated text) for list type="symbols". For example, specifying "abcde" will cause "a" to be used for 1st level, "b" for the 2nd level, etc, cycling back to the first character "a" at the 6th level. Specifying "o*" will cause the characters "o" and "*" to be alternated for each successive level.'

  toc-include:
    tags: ["Processing instructions for xml2rfc"]
    title: "Generate table of contents"
    description: "(`toc`) generate a table-of-contents."

  tocappendix:
    tags: ["Processing instructions for xml2rfc"]
    title: "ToC appendix"
    description: "Control whether the word "Appendix" appears in the table-of-content."

  toc-depth:
    tags: ["Processing instructions for xml2rfc"]
    title: "ToC depth"
    description: 'If `:toc-include:` is "yes", then this determines the depth of the table-of-contents.'

  tocindent:
    tags: ["Processing instructions for xml2rfc"]
    title: "ToC indent"
    description: 'If `:toc-include:` is "yes", then setting this to "yes" will indent subsections in the table-of-contents.'

  tocnarrow:
    tags: ["Processing instructions for xml2rfc"]
    title: "ToC narrow"
    description: "Affects horizontal spacing in the table-of-content."

  tocompact:
    tags: ["Processing instructions for xml2rfc"]
    title: "ToC compact"
    description: 'If `:toc-include:` is "yes", then setting this to "no" will make it a little less compact.'

  topblock:
    tags: ["Processing instructions for xml2rfc"]
    title: "topblock"
    description: "Put the famous header block on the first page."

  useobject:
    tags: ["Processing instructions for xml2rfc"]
    title: "useobject"
    description: "When producing a html file, use the <object> html element with inner replacement content instead of the <img> html element, when a source xml element includes an src attribute."

